import{C as V,D as I}from"../modules/unplugin-icons-P5TvGTOj.js";import{d as N,t as H,Q as W,D as F,O as M,z as v,aA as q,o as r,b,f as z,B as o,c as u,g as P,i as R,h as U,k as B,l as D,m as w,q as K,s as T,e as s,aa as e}from"../modules/vue-D0pgLiKe.js";import{y as x,aa as j,C as O,ab as Q,ac as X}from"../index-BW3Pddax.js";import{u as S,f as Y}from"./context-BMp2NKA2.js";import{I as G}from"./default-CSRzgOM-.js";import"../modules/shiki-B2vYA8T0.js";const J=["title"],Z=N({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:x.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(f){const i=f,{$clicksContext:n}=S(),l=H(),g=j();W(()=>{n.unregister(g)}),F(()=>{var t;(t=l.value)==null||t.classList.toggle("slidev-code-line-numbers",i.lines)}),M(()=>{var d;if(!n||!((d=i.ranges)!=null&&d.length))return;const t=n.calculateSince(i.at,i.ranges.length-1);n.register(g,t);const h=v(()=>t?Math.max(0,n.current-t.start+1):O),a=v(()=>i.finally==="last"?i.ranges.at(-1):i.finally.toString());F(()=>{if(!l.value)return;let p=i.ranges[h.value]??a.value;const m=p==="hide";l.value.classList.toggle(Q,m),m&&(p=i.ranges[h.value+1]??a.value);const A=l.value.querySelector(".shiki"),_=Array.from(A.querySelectorAll("code > .line")),$=_.length;if(X(p,$,i.startLine,k=>[_[k]]),i.maxHeight){const k=Array.from(A.querySelectorAll(".line.highlighted"));k.reduce((E,L)=>L.offsetHeight+E,0)>l.value.offsetHeight?k[0].scrollIntoView({behavior:"smooth",block:"start"}):k.length>0&&k[Math.round((k.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:c,copy:C}=q();function y(){var h,a;const t=(a=(h=l.value)==null?void 0:h.querySelector(".slidev-code"))==null?void 0:a.textContent;t&&C(t)}return(t,h)=>{const a=V,d=I;return r(),b("div",{ref_key:"el",ref:l,class:R(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":i.lines}]),style:U({"max-height":i.maxHeight,"overflow-y":i.maxHeight?"scroll":void 0,"--start":i.startLine})},[z(t.$slots,"default"),o(x).codeCopy?(r(),b("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:o(c)?"Copied":"Copy",onClick:h[0]||(h[0]=p=>y())},[o(c)?(r(),u(a,{key:0,class:"p-2 w-8 h-8"})):(r(),u(d,{key:1,class:"p-2 w-8 h-8"}))],8,J)):P("v-if",!0)],6)}}}),ss=s("h1",null,"Web Worker",-1),is=s("ul",null,[s("li",null,"from UI thread")],-1),es=s("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-ts"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"if"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," ("),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"typeof"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," Worker"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," !=="),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," 'undefined'"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575","--shiki-light":"#A0ADA0"}},"  // Create a new")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  const"),s("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}}," worker"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," new"),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}}," Worker"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"new"),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}}," URL"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"'./app.worker'"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," import"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#429988","--shiki-light":"#2F8A89"}},"meta"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"url"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"));")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"  worker"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"onmessage"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," ({"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," data"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," })"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," =>"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"    console"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"log"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"`page got message: "),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"${"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"data"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"}"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"`"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},");")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"  };")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"  worker"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"postMessage"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"'hello'"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},");")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"}"),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," else"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575","--shiki-light":"#A0ADA0"}},"  // Web workers are not supported in this environment.")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575","--shiki-light":"#A0ADA0"}},"  // You should add a fallback so that your program still executes correctly.")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"}")])])],-1),ts=s("ul",null,[s("li",null,"Web worker")],-1),as=s("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-ts"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"addEventListener"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"'message'"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," ({"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," data"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," })"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," =>"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  const"),s("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}}," response"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," `worker response to "),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"${"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"data"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"}"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"`"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},";")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"  postMessage"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"response"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},");")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"});")])])],-1),ls={__name:"slides.md__slidev_5",setup(f){const{$slidev:i,$nav:n,$clicksContext:l,$clicks:g,$page:c,$renderContext:C,$frontmatter:y}=S();return l.setup(),(t,h)=>{const a=Z;return r(),u(G,K(T(o(Y)(o(y),4))),{default:B(()=>[ss,is,D(a,w({},{ranges:[]}),{default:B(()=>[es]),_:1},16),ts,D(a,w({},{ranges:[]}),{default:B(()=>[as]),_:1},16)]),_:1},16)}}},gs=ls;export{gs as default};

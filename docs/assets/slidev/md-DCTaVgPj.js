import{C as N,D as H}from"../modules/unplugin-icons-D3UEhWvg.js";import{d as W,t as F,Q as V,D as _,O as M,z as b,aA as q,o as r,b as w,f as z,B as o,c as f,g as P,i as R,h as U,k as u,e as i,l as x,m as S,aa as t,q as K,s as T}from"../modules/vue-BMJ5w_no.js";import{y as E,aa as j,C as O,ab as Q,ac as X}from"../index-Bxpo1rhe.js";import{u as $,f as Y}from"./context-LgQ77bxX.js";import{I as G}from"./default-C_VIoYNy.js";import"../modules/shiki-PHCoqP00.js";const J=["title"],Z=W({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:E.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(A){const e=A,{$clicksContext:n}=$(),h=F(),g=j();V(()=>{n.unregister(g)}),_(()=>{var a;(a=h.value)==null||a.classList.toggle("slidev-code-line-numbers",e.lines)}),M(()=>{var d;if(!n||!((d=e.ranges)!=null&&d.length))return;const a=n.calculateSince(e.at,e.ranges.length-1);n.register(g,a);const s=b(()=>a?Math.max(0,n.current-a.start+1):O),l=b(()=>e.finally==="last"?e.ranges.at(-1):e.finally.toString());_(()=>{if(!h.value)return;let p=e.ranges[s.value]??l.value;const B=p==="hide";h.value.classList.toggle(Q,B),B&&(p=e.ranges[s.value+1]??l.value);const D=h.value.querySelector(".shiki"),C=Array.from(D.querySelectorAll("code > .line")),L=C.length;if(X(p,L,e.startLine,k=>[C[k]]),e.maxHeight){const k=Array.from(D.querySelectorAll(".line.highlighted"));k.reduce((v,I)=>I.offsetHeight+v,0)>h.value.offsetHeight?k[0].scrollIntoView({behavior:"smooth",block:"start"}):k.length>0&&k[Math.round((k.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:y,copy:m}=q();function c(){var s,l;const a=(l=(s=h.value)==null?void 0:s.querySelector(".slidev-code"))==null?void 0:l.textContent;a&&m(a)}return(a,s)=>{const l=N,d=H;return r(),w("div",{ref_key:"el",ref:h,class:R(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":e.lines}]),style:U({"max-height":e.maxHeight,"overflow-y":e.maxHeight?"scroll":void 0,"--start":e.startLine})},[z(a.$slots,"default"),o(E).codeCopy?(r(),w("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:o(y)?"Copied":"Copy",onClick:s[0]||(s[0]=p=>c())},[o(y)?(r(),f(l,{key:0,class:"p-2 w-8 h-8"})):(r(),f(d,{key:1,class:"p-2 w-8 h-8"}))],8,J)):P("v-if",!0)],6)}}}),ki={__name:"slides.md__slidev_5",setup(A){const{$slidev:e,$nav:n,$clicksContext:h,$clicks:g,$page:y,$renderContext:m,$frontmatter:c}=$();return h.setup(),(a,s)=>{const l=Z;return r(),f(G,K(T(o(Y)(o(c),4))),{default:u(()=>[s[2]||(s[2]=i("h1",null,"Web Worker",-1)),s[3]||(s[3]=i("ul",null,[i("li",null,"from UI thread")],-1)),x(l,S({},{ranges:[]}),{default:u(()=>s[0]||(s[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-ts"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"typeof"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," Worker"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," !=="),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," '"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"undefined"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Create a new")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  const "),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"worker"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ="),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," new "),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"Worker"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"new "),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"URL"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"./app.worker"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," import"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"meta"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"url"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"));")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"  worker"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"onmessage"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ="),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ({"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," data"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," })"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," =>"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"    console"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"log"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"`"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"page got message: "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"${"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"data"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"}"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"`"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  };")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"  worker"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"postMessage"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"hello"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," else"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Web workers are not supported in this environment.")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // You should add a fallback so that your program still executes correctly.")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1)])),_:1},16),s[4]||(s[4]=i("ul",null,[i("li",null,"Web worker")],-1)),x(l,S({},{ranges:[]}),{default:u(()=>s[1]||(s[1]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-ts"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"addEventListener"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"message"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ({"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," data"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," })"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," =>"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  const "),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"response"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ="),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," `"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"worker response to "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"${"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"data"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"}"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"`"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"  postMessage"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"response"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"});")])])],-1)])),_:1},16)]),_:1},16)}}};export{ki as default};

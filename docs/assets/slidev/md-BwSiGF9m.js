import{C as V,D as I}from"../modules/unplugin-icons-D3UEhWvg.js";import{d as N,t as H,Q as W,D as v,O as M,z as _,aA as q,o as r,b,f as z,B as o,c as u,g as P,i as R,h as U,k as B,e as s,l as D,m as w,aa as t,q as K,s as T}from"../modules/vue-BMJ5w_no.js";import{y as x,aa as j,C as O,ab as Q,ac as X}from"../index-CnpPBIZp.js";import{u as S,f as Y}from"./context-Ct7Dnqc0.js";import{I as G}from"./default-CW4P_asu.js";import"../modules/shiki-PHCoqP00.js";const J=["title"],Z=N({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:x.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(f){const e=f,{$clicksContext:n}=S(),h=H(),g=j();W(()=>{n.unregister(g)}),v(()=>{var a;(a=h.value)==null||a.classList.toggle("slidev-code-line-numbers",e.lines)}),M(()=>{var d;if(!n||!((d=e.ranges)!=null&&d.length))return;const a=n.calculateSince(e.at,e.ranges.length-1);n.register(g,a);const i=_(()=>a?Math.max(0,n.current-a.start+1):O),l=_(()=>e.finally==="last"?e.ranges.at(-1):e.finally.toString());v(()=>{if(!h.value)return;let p=e.ranges[i.value]??l.value;const m=p==="hide";h.value.classList.toggle(Q,m),m&&(p=e.ranges[i.value+1]??l.value);const A=h.value.querySelector(".shiki"),E=Array.from(A.querySelectorAll("code > .line")),$=E.length;if(X(p,$,e.startLine,k=>[E[k]]),e.maxHeight){const k=Array.from(A.querySelectorAll(".line.highlighted"));k.reduce((F,L)=>L.offsetHeight+F,0)>h.value.offsetHeight?k[0].scrollIntoView({behavior:"smooth",block:"start"}):k.length>0&&k[Math.round((k.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:y,copy:C}=q();function c(){var i,l;const a=(l=(i=h.value)==null?void 0:i.querySelector(".slidev-code"))==null?void 0:l.textContent;a&&C(a)}return(a,i)=>{const l=V,d=I;return r(),b("div",{ref_key:"el",ref:h,class:R(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":e.lines}]),style:U({"max-height":e.maxHeight,"overflow-y":e.maxHeight?"scroll":void 0,"--start":e.startLine})},[z(a.$slots,"default"),o(x).codeCopy?(r(),b("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:o(y)?"Copied":"Copy",onClick:i[0]||(i[0]=p=>c())},[o(y)?(r(),u(l,{key:0,class:"p-2 w-8 h-8"})):(r(),u(d,{key:1,class:"p-2 w-8 h-8"}))],8,J)):P("v-if",!0)],6)}}}),ss={__name:"slides.md__slidev_5",setup(f){const{$slidev:e,$nav:n,$clicksContext:h,$clicks:g,$page:y,$renderContext:C,$frontmatter:c}=S();return h.setup(),(a,i)=>{const l=Z;return r(),u(G,K(T(o(Y)(o(c),4))),{default:B(()=>[i[2]||(i[2]=s("h1",null,"Web Worker",-1)),i[3]||(i[3]=s("ul",null,[s("li",null,"from UI thread")],-1)),D(l,w({},{ranges:[]}),{default:B(()=>i[0]||(i[0]=[s("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-ts"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"if"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," ("),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"typeof"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," Worker"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," !=="),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," 'undefined'"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575","--shiki-light":"#A0ADA0"}},"  // Create a new")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  const"),s("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}}," worker"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," new"),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}}," Worker"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"new"),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}}," URL"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"'./app.worker'"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," import"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#429988","--shiki-light":"#2F8A89"}},"meta"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"url"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"));")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"  worker"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"onmessage"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," ({"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," data"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," })"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," =>"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"    console"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"log"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"`page got message: "),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"${"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"data"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"}"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"`"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},");")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"  };")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"  worker"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"postMessage"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"'hello'"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},");")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"}"),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," else"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575","--shiki-light":"#A0ADA0"}},"  // Web workers are not supported in this environment.")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#758575","--shiki-light":"#A0ADA0"}},"  // You should add a fallback so that your program still executes correctly.")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"}")])])],-1)])),_:1},16),i[4]||(i[4]=s("ul",null,[s("li",null,"Web worker")],-1)),D(l,w({},{ranges:[]}),{default:B(()=>i[1]||(i[1]=[s("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-ts"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"addEventListener"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"'message'"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," ({"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," data"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," })"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," =>"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  const"),s("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}}," response"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," `worker response to "),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"${"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"data"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"}"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"`"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"  postMessage"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"response"),s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},");")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"});")])])],-1)])),_:1},16)]),_:1},16)}}},ns=ss;export{ns as default};
